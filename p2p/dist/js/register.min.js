"use strict";$(function(){function e(){var s=!1,e=$("#username").val();return e?/^[a-zA-Z0-9_\u4E00-\u9FA5]{3,16}$/.test(e)?$.ajax({url:"http://139.9.177.51:3333/p2p/accrepeat",type:"post",async:!1,data:{username:e},success:function(e){var r=e.code,e=e.msg;200===r?($("#username").css("border","1px solid green"),$("#username-msg").html(""),s=!0):500===r&&($("#username").css("border","1px solid red"),$("#username-msg").html(e).css("color","red"),s=!1)}}):($("#username").css("border","1px solid red"),$("#username-msg").html("3到16位（字母，数字，下划线，中文）").css("color","red"),s=!1):($("#username").css("border","1px solid red"),$("#username-msg").html("请输入用户名").css("color","red"),s=!1),s}function r(){var e=$("#pwd").val();return e?/^(\w){3,12}$/.test(e)?($("#pwd").css("border","1px solid green"),$("#pwd-msg").html(""),!0):($("#pwd").css("border","1px solid red"),$("#pwd-msg").html(" 3-12个字母、数字、下划线").css("color","red"),!1):($("#pwd").css("border","1px solid red"),$("#pwd-msg").html("请输入密码").css("color","red"),!1)}function s(){var e=$("#cpwd").val(),r=$("#pwd").val();return e?e!=r?($("#cpwd").css("border","1px solid red"),$("#cpwd-msg").html("两次密码不一致").css("color","red"),!1):($("#cpwd").css("border","1px solid green"),$("#cpwd-msg").html(""),!0):($("#cpwd").css("border","1px solid red"),$("#cpwd-msg").html("请确认密码").css("color","red"),!1)}function c(){var e=$("#email").val();return e?/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e)?($("#email").css("border","1px solid green"),$("#email-msg").html(""),!0):($("#email").css("border","1px solid red"),$("#email-msg").html("邮箱格式不正确").css("color","red"),!1):($("#email").css("border","1px solid red"),$("#email-msg").html("请输入邮箱").css("color","red"),!1)}function o(){var e=$("#nickname").val();e?/^[a-zA-Z0-9_\u4E00-\u9FA5]{3,16}$/.test(e)?($("#nickname").css("border","1px solid green"),$("#nickname-msg").html("")):($("#nickname").css("border","1px solid red"),$("#nickname-msg").html("3到16位（字母，数字，下划线，中文）").css("color","red")):($("#nickname").css("border","1px solid red"),$("#nickname-msg").html("请输入昵称").css("color","red"));return!0}$("#username").on("blur",e),$("#pwd").on("blur",r),$("#cpwd").on("blur",s),$("#email").on("blur",c),$("#nickname").on("blur",o),$("#btn").on("click",function(){[e,r,s,c,o].map(function(e){return e()}).every(function(e){return e})&&$.ajax({url:"http://139.9.177.51:3333/p2p/reg",type:"post",data:{username:$("#username").val(),pwd:$("#pwd").val(),email:$("#email").val(),nickname:$("#nickname").val()},success:function(e){var r=e.code,e=e.msg;200===r?(alert(e),location.href="../login.html"):500===r&&alert(e)}})})});