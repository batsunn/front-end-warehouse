"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,e){function r(t,s){if(this.$element=n(t),this.options=n.extend({},n.fn.twbsPagination.defaults,s),this.options.startPage<1||this.options.startPage>this.options.totalPages)throw new Error("Start page option is incorrect");if(this.options.totalPages=parseInt(this.options.totalPages),isNaN(this.options.totalPages))throw new Error("Total pages option is not correct!");if(this.options.visiblePages=parseInt(this.options.visiblePages),isNaN(this.options.visiblePages))throw new Error("Visible pages option is not correct!");this.options.totalPages<this.options.visiblePages&&(this.options.visiblePages=this.options.totalPages),this.options.onPageClick instanceof Function&&this.$element.first().bind("page",this.options.onPageClick),this.options.href&&(i=(i=this.options.href.replace(/[-\/\\^$*+?.|[\]]/g,"\\$&")).replace(this.options.hrefVariable,"(\\d+)"),null!=(i=new RegExp(i,"i").exec(e.location.href))&&(this.options.startPage=parseInt(i[1],10)));var i="function"==typeof this.$element.prop?this.$element.prop("tagName"):this.$element.attr("tagName");return this.$listContainer="UL"===i?this.$element:n("<ul></ul>"),this.$listContainer.addClass(this.options.paginationClass),"UL"!==i&&this.$element.append(this.$listContainer),this.render(this.getPages(this.options.startPage)),this.setupEvents(),this}var t=n.fn.twbsPagination;r.prototype={constructor:r,destroy:function(){return this.$element.empty(),this.$element.removeData("twbs-pagination"),this.$element.unbind("page"),this},show:function(t){if(t<1||t>this.options.totalPages)throw new Error("Page is incorrect.");return this.render(this.getPages(t)),this.setupEvents(),this.$element.trigger("page",t),this},buildListItems:function(t){var s=n();this.options.first&&(s=s.add(this.buildItem("first",1))),this.options.prev&&(i=1<t.currentPage?t.currentPage-1:this.options.loop?this.options.totalPages:1,s=s.add(this.buildItem("prev",i)));for(var i,e=0;e<t.numeric.length;e++)s=s.add(this.buildItem("page",t.numeric[e]));return this.options.next&&(i=t.currentPage<this.options.totalPages?t.currentPage+1:this.options.loop?1:this.options.totalPages,s=s.add(this.buildItem("next",i))),this.options.last&&(s=s.add(this.buildItem("last",this.options.totalPages))),s},buildItem:function(t,s){var i=n("<li></li>"),e=n("<a></a>"),a=null;switch(t){case"page":a=s,i.addClass(this.options.pageClass);break;case"first":a=this.options.first,i.addClass(this.options.firstClass);break;case"prev":a=this.options.prev,i.addClass(this.options.prevClass);break;case"next":a=this.options.next,i.addClass(this.options.nextClass);break;case"last":a=this.options.last,i.addClass(this.options.lastClass)}return i.data("page",s),i.data("page-type",t),i.append(e.attr("href",this.makeHref(s)).html(a)),i},getPages:function(t){var s=[],i=Math.floor(this.options.visiblePages/2),e=t-i+1-this.options.visiblePages%2,a=t+i;e<=0&&(e=1,a=this.options.visiblePages),a>this.options.totalPages&&(e=this.options.totalPages-this.options.visiblePages+1,a=this.options.totalPages);for(var o=e;o<=a;)s.push(o),o++;return{currentPage:t,numeric:s}},render:function(t){this.$listContainer.children().remove(),this.$listContainer.append(this.buildListItems(t));var s=this.$listContainer.children();s.filter(function(){return n(this).data("page")===t.currentPage&&"page"===n(this).data("page-type")}).addClass(this.options.activeClass),s.filter(function(){return"first"===n(this).data("page-type")}).toggleClass(this.options.disabledClass,1===t.currentPage),s.filter(function(){return"last"===n(this).data("page-type")}).toggleClass(this.options.disabledClass,t.currentPage===this.options.totalPages),s.filter(function(){return"prev"===n(this).data("page-type")}).toggleClass(this.options.disabledClass,!this.options.loop&&1===t.currentPage),s.filter(function(){return"next"===n(this).data("page-type")}).toggleClass(this.options.disabledClass,!this.options.loop&&t.currentPage===this.options.totalPages)},setupEvents:function(){var i=this;this.$listContainer.find("li").each(function(){var s=n(this);s.off(),s.hasClass(i.options.disabledClass)||s.hasClass(i.options.activeClass)?s.click(function(t){t.preventDefault()}):s.click(function(t){i.options.href||t.preventDefault(),i.show(parseInt(s.data("page"),10))})})},makeHref:function(t){return this.options.href?this.options.href.replace(this.options.hrefVariable,t):"#"}},n.fn.twbsPagination=function(t){var s,i=Array.prototype.slice.call(arguments,1),e=n(this),a=e.data("twbs-pagination"),o="object"===(void 0===t?"undefined":_typeof(t))&&t;return a||e.data("twbs-pagination",a=new r(this,o)),"string"==typeof t&&(s=a[t].apply(a,i)),void 0===s?e:s},n.fn.twbsPagination.defaults={totalPages:0,startPage:1,visiblePages:5,href:!1,hrefVariable:"{{number}}",first:"First",prev:"Previous",next:"Next",last:"Last",loop:!1,onPageClick:null,paginationClass:"pagination",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first",pageClass:"page",activeClass:"active",disabledClass:"disabled"},n.fn.twbsPagination.Constructor=r,n.fn.twbsPagination.noConflict=function(){return n.fn.twbsPagination=t,this}}(jQuery,window,document);